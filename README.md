原项目：https://gist.github.com/BlueSkyXN/f451b01af21bbda885d191444356401f

# 🚀 青龙面板 - 百度网盘自动签到脚本 (PushPlus推送版)

\\

一个适用于青龙面板的百度网盘自动签到脚本，支持每日签到、自动答题、获取用户信息，并通过 **PushPlus** 推送运行结果到你的微信或手机。

## ✨ 功能特性

*   ✅ **每日签到**：自动完成百度网盘每日签到，获取积分。
*   🤖 **自动答题**：自动获取并回答每日成长值问题。
*   📊 **用户信息**：签到后获取当前会员等级和成长值。
*   📱 **PushPlus 推送**：签到结果实时推送到你的微信，无需盯日志。
*   🔧 **环境变量配置**：敏感信息不暴露在代码中，安全又方便。
*   🎯 **青龙面板原生支持**：完美适配青龙面板，配置简单，一键部署。

## ⚠️ 重要提示

> **请注意**：本脚本需要你的百度网盘 Cookie。请妥善保管你的 Cookie，切勿泄露给他人！使用本脚本所产生的任何后果，均由使用者本人承担。

## 📋 准备工作

在开始部署之前，请确保你已经准备好以下几样东西：

1.  **一个可用的青龙面板环境**：你需要在服务器或 Docker 中安装好青龙面板。
2.  **一个百度网盘账号**：用于获取 Cookie。
3.  **一个 PushPlus 账号**：

    *   访问 [PushPlus 官网](http://www.pushplus.plus/) 。
    *   微信扫码登录，在“一对一推送”或“Token”页面获取你的 `Token`。

## 🛠️ 详细部署步骤

请严格按照以下步骤操作，每一步都很关键！

### 第一步：获取百度网盘 Cookie

这是整个部署过程中**最重要**的一步，请仔细操作。

1.  **使用电脑浏览器**（推荐 Chrome）打开 [网盘会员成长值任务](https://pan.baidu.com/wap/svip/growth/task) 并**登录**你的账号。
2.  按下键盘上的 `F12` 键，打开开发者工具。
3.  在开发者工具顶部，点击 **“Network”（网络）** 标签页。
4.  **刷新一下网页**（按 `F5` 或点击刷新按钮）。此时 Network 面板中会加载出很多文件。
5.  在文件列表中，**随便点击一个**来自 `pan.baidu.com` 域名的请求。
6.  在右侧出现的窗口中，找到并点击 **“Headers”（标头）** 标签。
7.  向下滚动，找到 **“Request Headers”（请求标头）** 区域。
8.  在列表中找到名为 `Cookie:` 的一行，**完整复制**它后面的**所有内容**（这是一个非常长的字符串，通常以 `BDUSS=` 开头）。
9.  将复制好的 Cookie 保存到记事本或备忘录中，稍后会用到。

    **🖼️ 图示说明：**

```
    +---------------------------------------------------+
    | Request Headers                                   |
    | ------------------------------------------------- |
    | Accept: */*                                      |
    | Accept-Encoding: gzip, deflate, br                |
    | ...                                               |
    | Cookie: BDUSS=xxxxxxxxxx; PSTM=xxxxxxxxxx; ...    |  <-- 复制这一整行！
    | ...                                               |
    +---------------------------------------------------+

```

### 第二步：在青龙面板中创建脚本

1.  登录你的青龙面板。
2.  在左侧菜单栏中找到 **“脚本管理”**。
3.  点击右上角的 **“+”** 号或 **“创建脚本”** 按钮。
4.  在弹出的窗口中：

    *   **文件名**：填写 `baidu_signin.py` (后缀名必须是 `.py`)。
    *   **脚本内容**：清空编辑器，然后将本仓库 `baidu_signin.py` 文件中的**全部代码**粘贴进去。
5.  点击右上角的 **“保存”** 按钮。

### 第三步：配置环境变量

环境变量是存储敏感信息（如 Cookie）的最佳方式，既安全又便于管理。

1.  在左侧菜单栏中找到 **“配置文件”**。
2.  进入后，点击 **“环境变量”** 标签页。
3.  点击 **“新建变量”**，分别添加以下两个变量：

    | 名称                | 值                        | 备注              |
    | :---------------- | :----------------------- | :-------------- |
    | `BAIDU_COOKIE`    | 粘贴你在第一步中获取的完整 Cookie 字符串 | **必须**，脚本登录凭证   |
    | `PUSH_PLUS_TOKEN` | 粘贴你从 PushPlus 获取的 Token  | **必须**，用于接收推送通知 |
4.  确认无误后，点击 **“保存”**。

    **🔧 变量示例：**

```
    BAIDU_COOKIE=BDUSS=xxxxxxxxxxxxxxxx;PSTM=xxxxxxxxxxxxxxxx;...
    PUSH_PLUS_TOKEN=xxxxxxxxxxxxxxxxxxxxxxxx

```

### 第四步：设置定时任务

让脚本每天自动为你签到。

1.  在左侧菜单栏中找到 **“定时任务”**。
2.  点击右上角的 **“创建任务”** 按钮。
3.  填写任务信息：

    *   **名称**：可以自定义，例如 `百度网盘每日签到`。
    *   **命令**：填写 `task baidu_signin.py`。

        *   *解释：`task` 是青龙面板执行 Python 脚本的命令，后面跟你的脚本文件名。*
    *   **定时规则**：设置你希望执行的时间。例如，每天早上 8 点执行一次，可以填写：

```
        0 8 * * *

```

         \* *（分 时 日 月 周）的格式，`0 8 * * *` 代表每天 8:00 执行。*\
4\. 点击 **“确定”** 保存任务。

## 🧪 测试与验证

部署完成后，强烈建议先手动测试一次，确保所有配置都正确。

1.  回到 **“脚本管理”** 页面。
2.  找到你创建的 `baidu_signin.py` 脚本，点击右侧的 **“执行”** 按钮（▶️ 图标）。
3.  等待几秒钟，然后点击 **“日志”** 按钮查看运行结果。
4.  **成功的日志**应该类似下面这样：

```
    签到成功, 获得积分: 5
    答题成功, 获得积分: 5
    当前会员等级: 8, 成长值: 12345
    pushPlus消息发送成功

```

1.  同时，检查你的微信（或你绑定 PushPlus 的应用），应该能收到一条内容相同的推送通知。

## 🔧 高级用法：多账号支持

如果你有多个百度网盘账号，可以按照以下方法实现多账号签到：

**简单方法：创建多套独立的脚本和变量**

1.  **创建第二个脚本**：在青龙面板中再创建一个脚本，如 `baidu_signin2.py`，代码内容与第一个完全相同。
2.  **创建第二套环境变量**：

    *   `BAIDU_COOKIE_2` （填写第二个账号的 Cookie）
    *   `PUSH_PLUS_TOKEN_2` （可选，如果你想分开接收通知）
3.  **修改第二个脚本的代码**：将脚本开头获取环境变量的部分修改为新的变量名：

```
    # 将
    BAIDU_COOKIE = os.environ.get('BAIDU_COOKIE', '')
    # 修改为
    BAIDU_COOKIE = os.environ.get('BAIDU_COOKIE_2', '')

```

1.  **创建第二个定时任务**，命令改为 `task baidu_signin2.py`，执行时间可以与第一个任务错开几分钟。

## ❓ 常见问题 (FAQ)

| 问题现象                     | 可能原因与解决方案                                                           |
| :----------------------- | :------------------------------------------------------------------ |
| 日志显示 `未检测到 BAIDU_COOKIE` | **原因**：环境变量名称错误或未保存。**解决**：检查环境变量列表中的名称是否为 `BAIDU_COOKIE`，注意大小写和空格。 |
| 签到失败，状态码非 200            | **原因**：99% 的可能是 Cookie 已过期。**解决**：重新按第一步获取最新的 Cookie 并更新环境变量。       |
| pushPlus 消息发送失败          | **原因**：`PUSH_PLUS_TOKEN` 错误或网络问题。**解决**：检查 Token 是否正确，或稍后重试。        |
| 签到成功，但没有收到积分             | **原因**：当天已签到过，或账号等级过低。**解决**：这是正常现象，脚本本身没问题。                        |

## ⭐ Star History

如果这个脚本对你有帮助，请给这个仓库点个 Star ⭐ 吧！你的支持是我更新的动力！

**现在，你可以享受全自动的百度网盘签到了！** 🎉
